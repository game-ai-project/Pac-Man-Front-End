(this["webpackJsonpapp-dir"]=this["webpackJsonpapp-dir"]||[]).push([[0],{28:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),i=n(5),r=n.n(i),a=(n(28),n(2)),o=(n(8),n(16)),d=n(1),l=function(e){var t=e.isMuted;return Object(d.jsx)(o.a,{channel:"petepittawat",width:"100%",height:"100%",muted:t,hideControls:!0,parent:["localhost"]})},u=n(6),j=n(17),b=n(18),h=n.n(b),p=n(19),O=n.n(p)()(h.a),g=function(e){var t=e.lang,n=void 0===t?"en-US":t,s=Object(c.useState)(!1),i=Object(a.a)(s,2),r=i[0],o=i[1],l=Object(c.useState)(!1),b=Object(a.a)(l,2),h=b[0],p=b[1],g=Object(c.useState)(window.SpeechRecognition&&new window.SpeechRecognition||window.webkitSpeechRecognition&&new window.webkitSpeechRecognition),w=Object(a.a)(g,1)[0];Object(c.useEffect)((function(){w.onend=function(){o(!1)},w.onresult=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){var n,c,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.results[0][0].transcript,console.log("Recognized text: ".concat(n)),p(!0),e.prev=3,e.next=6,fetch("https://20.194.195.200:8000/sentiment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n})});case 6:return c=e.sent,e.next=9,c.json();case 9:s=e.sent,O.fire({title:Object(d.jsx)("p",{children:"Your message was successfully recorded"}),icon:"success",html:'<p>Text: "'.concat(n,'"</p>')}),console.log(s),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),O.fire({title:Object(d.jsx)("p",{children:"Something went wrong. Please try again later."}),icon:"error",html:'<p>Text: "'.concat(n,'"</p>')}),console.log(e.t0);case 18:return e.prev=18,p(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,14,18,21]])})));return function(t){return e.apply(this,arguments)}}()}),[w]);return Object(d.jsx)("div",{children:Object(d.jsx)("button",{disabled:r||h,onClick:function(){!1===r&&(o(!0),w.lang=n,w.start())},className:r||h?"record-button disabled":"record-button",children:r?"Listening...":h?"Processing...":"Record"})})},w=function(){var e=Object(c.useState)(!0),t=Object(a.a)(e,1)[0];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("div",{className:"Twitch-view",children:Object(d.jsx)(l,{isMuted:t})}),Object(d.jsxs)("div",{className:"User-interface",children:[Object(d.jsxs)("div",{className:"Instruction",children:[Object(d.jsx)("div",{className:"Instruction-space"}),Object(d.jsx)("div",{className:"Instruction-title",children:Object(d.jsx)("b",{children:"Instruction"})}),Object(d.jsx)("p",{children:"The game will be automatically played by AI. By cheer/jeer with your own voice, you can give advantages/disadvantages to Ms PAC-MAN"}),Object(d.jsxs)("p",{children:["Press the ",Object(d.jsx)("b",{children:'"Record"'})," button and cheer/jeer with your passionate voice!"]})]}),Object(d.jsx)("div",{className:"Record",children:Object(d.jsx)(g,{})})]})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),i(e),r(e)}))};r.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(w,{})})),x()},8:function(e,t,n){}},[[42,1,2]]]);
//# sourceMappingURL=main.d0d0c87e.chunk.js.map